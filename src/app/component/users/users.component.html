<div class="homeWrapper">
  <div class="homeWrapper">
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
      <p>
        <mat-form-field appearance="legacy">
          <mat-label>Name</mat-label>
          <input matInput placeholder="Placeholder" formControlName="name" />
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="legacy">
          <mat-label>City</mat-label>
          <input matInput placeholder="Placeholder" formControlName="city" />
        </mat-form-field>
      </p>
      <p>
        <mat-slide-toggle formControlName="status" color="primary">
          Status
        </mat-slide-toggle>
      </p>
      <div class="example-button-row">
        <button mat-raised-button color="primary" type="submit">Submit</button>
      </div>
    </form>
  </div>

  <table *ngIf="userData.length">
    <tr>
      <th>Name</th>
      <th>City</th>
      <th>Status</th>
      <th>Action</th>
    </tr>
    <tr *ngFor="let user of userData">
      <td [ngClass]="{ green: user?.status, red: !user?.status }">
        {{ user?.name }}
      </td>
      <td [ngClass]="{ green: user?.status, red: !user?.status }">
        {{ user?.city }}
      </td>
      <td>
        <mat-slide-toggle
          (change)="handleStatus(user?.id)"
          [checked]="user?.status"
          color="primary"
        >
        </mat-slide-toggle>
      </td>
      <td>
        <a [ngStyle]="{ cursor: 'pointer' }" (click)="handleDelete(user?.id)">
          Delete
        </a>
      </td>
    </tr>
  </table>
</div>
